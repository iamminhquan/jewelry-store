{% extends "base.html" %}
{% block title %}Liên hệ - XLQN Shop{% endblock %}

{% block content %}
<div class="bg-white rounded-lg shadow-md p-8 relative">

  <!-- Title -->
  <h1 class="text-3xl font-bold text-gray-900 mb-3">Gửi thắc mắc cho chúng tôi</h1>
  <div class="w-16 h-0.5 bg-gray-900 mb-6"></div>

  <!-- ✅ Flash message -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="mb-4 px-4 py-3 rounded-md
          {% if category == 'success' %} bg-green-100 text-green-800
          {% elif category == 'danger' %} bg-red-100 text-red-800
          {% else %} bg-gray-100 text-gray-800 {% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <!-- Form Container -->
  <div class="relative">
    <form method="POST" action="{{ url_for('contact.show_contact_page') }}" class="max-w-4xl">

      <!-- Input Fields Row -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
        <input
          type="text"
          name="ten_khach_hang"
          placeholder="Tên của bạn"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-md bg-white text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-gray-300 transition"
        />
        <input
          type="email"
          name="email"
          placeholder="Email của bạn"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-md bg-white text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-gray-300 transition"
        />
        <input
          type="tel"
          name="so_dien_thoai"
          placeholder="Số điện thoại của bạn"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-md bg-white text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-gray-300 transition"
        />
      </div>

      <!-- Textarea -->
      <textarea
        name="noi_dung"
        placeholder="Nội dung"
        rows="6"
        required
        class="w-full px-4 py-3 border border-gray-300 rounded-md bg-white text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-gray-300 transition mb-6 resize-none"
      ></textarea>

      <!-- Submit Button -->
      <button
        type="submit"
        class="bg-gray-900 text-white font-bold uppercase px-8 py-3 rounded-md hover:bg-gray-800 transition duration-200 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"
      >
        GỬI CHO CHÚNG TÔI
      </button>
    </form>

    <!-- Social Media Icons -->
    <div class="absolute right-0 top-0 flex flex-col gap-4">
      <a
        href="#"
        target="_blank"
        rel="noopener noreferrer"
        class="w-12 h-12 rounded-full bg-pink-500 flex items-center justify-center hover:bg-pink-600 transition duration-200 shadow-lg"
        aria-label="Facebook Messenger"
      >
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg">
          <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>

      <a
        href="#"
        target="_blank"
        rel="noopener noreferrer"
        class="w-12 h-12 rounded-full bg-pink-500 flex items-center justify-center hover:bg-pink-600 transition duration-200 shadow-lg"
        aria-label="Zalo"
      >
        <span class="text-white font-bold text-sm">Zalo</span>
      </a>
    </div>
  </div>

  <!-- Map Section -->
  <div class="mt-12">
    <h2 class="text-2xl font-bold text-gray-900 mb-4">Vị trí cửa hàng</h2>
    <div class="w-full h-96 rounded-lg overflow-hidden shadow-md border border-gray-200">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.1234567890123!2d106.629664!3d10.823099!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTDCsDQ5JzIzLjEiTiAxMDbCsDM3JzQ2LjgiRQ!5e0!3m2!1svi!2s!4v1234567890123!5m2!1svi!2s"
        width="100%"
        height="100%"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
        class="w-full h-full"
      ></iframe>
    </div>

    <div class="mt-4 text-gray-600">
      <p class="font-semibold text-gray-900">Địa chỉ:</p>
      <p>65 Huỳnh Thúc Kháng, Phường Sài Gòn, TP. Hồ Chí Minh</p>
      <p class="mt-2"><span class="font-semibold">Điện thoại:</span> +84 987 654 321</p>
      <p><span class="font-semibold">Email:</span>  bonjour@panda.com.vn</p>
    </div>
  </div>

</div>
{% endblock %}
